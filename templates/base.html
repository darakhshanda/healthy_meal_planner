<!DOCTYPE html>
{% load static %}
{% load i18n %}
{% url 'index' as index_url %}
{% url 'dashboard' as dashboard_url %}
{% url 'recipe_list' as recipe_list_url %}
{% url 'account_login' as login_url %}
{% url 'account_signup' as signup_url %}
{% url 'account_logout' as logout_url %}

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Healthy Meal Planner{% endblock %}</title>

    <!-- External CSS -->
    <link rel="stylesheet" href="{% static 'mealapp/css/style.css' %}">

    {% block extra_css %}{% endblock %}
</head>

<body>
    <!-- Top Navigation -->
    <nav class="top-navbar">
        <div class="container">
            <a href="{% url 'index' %}" class="logo">Healthy Meal PLanner</a>

            <div class="nav-buttons">
                <a href="{% url 'index' %}"
                    class="nav-btn {% if request.resolver_match.url_name == 'index' %}active{% endif %}">Home</a>
                <a href="{% url 'dashboard' %}"
                    class="nav-btn {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}">Dashboard</a>
                <a href="#" class="nav-btn">Help</a>
                {% if user.is_authenticated %}
                <a href="{% url 'account_logout' %}"
                    class="nav-btn {% if request.path == logout_url %}active{% endif %}" aria-current="page">Logout</a>
                {% else %}
                <a href="{% url 'account_signup' %}"
                    class="nav-btn {% if request.path == signup_url %}active{% endif %}" aria-current="page">Signup</a>
                <a href="{% url 'account_login' %}" class="nav-btn {% if request.path == login_url %}active{% endif %}"
                    aria-current="page">Login</a>
                {% endif %}
            </div>
        </div>
    </nav>
    <!-- Messages -->
    {% if messages %}
    <div class="container" style="margin-top: 20px;">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}"
            style="padding: 12px; background: #d4edda; border:  1px solid #c3e6cb; border-radius: 4px; margin-bottom: 10px;">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}


    <!-- Main Content -->
    {% block content %}{% endblock %}

    <!-- Footer -->
    <footer>
        <p>© 2026 Healthy Meal Planner • Made with ❤️ for healthy living</p>
    </footer>

    <!-- External JavaScript -->
    <script src="{% static 'mealapp/js/script.js' %}"></script>

    {% block extra_js %}{% endblock %}
</body>

</html>