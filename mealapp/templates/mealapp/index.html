<!DOCTYPE html>
{% extends 'base.html' %}

{% block content %}
<header>
    <h1>Healthy Meal Planner</h1>
    <p class="subtitle">Sign Up to create your personalized meal plan for the week and control your diet
        effectively.</p>
</header>

<div class="content mb-4">
    <h1>Recipe Database</h1>
    <p class="subtitle">Discover delicious recipes for every meal</p>
</div>

<ul class="action-buttons mb-4">
    {% if not user.is_authenticated %}
    <a href="{% url 'register' %}" class="btn btn-primary btn-lg mb-4">Sign Up Now</a>
    <a href="{% url 'login' %}" class="btn btn-secondary btn-lg mb-4">Log In</a>
    {% else %}
    <a href="{% url 'dashboard' %}" class="btn btn-primary btn-lg mb-4">Go to Dashboard</a>
    {% endif %}
    <a href="{% url 'profile_edit' %}" class="btn btn-success btn-lg mb-4">Calculate BMI</a>
</ul>

<ul>
    <li>ğŸ³ Explore a variety of recipes for breakfast, lunch, and dinner</li>
    <li>ğŸ” Search recipes by name or ingredient</li>
    <li>ğŸ“Š Track your nutritional intake</li>
    <li>ğŸ“ Create and save your favorite recipes</li>
</ul>

<div class="search-bar mb-4">
    <form method="GET" action="{% url 'recipe_list' %}">
        <input type="text" class="search-input" name="search" id="searchInput"
            placeholder="Search recipes by name or ingredient..." value="{{ search_query }}">
    </form>
</div>

<div class="category-tabs">
    <a href="{% url 'recipe_list' %}" class="tab-button active">All Recipes</a>
    <a href="{% url 'recipe_list' %}?category=breakfast" class="tab-button">ğŸŒ… Breakfast</a>
    <a href="{% url 'recipe_list' %}?category=lunch" class="tab-button">ğŸ¥— Lunch</a>
    <a href="{% url 'recipe_list' %}?category=dinner" class="tab-button">ğŸ½ï¸ Dinner</a>
</div>

{% if recipes %}
<div class="recipes-grid" id="recipesContainer">
    {% for recipe in recipes|slice:":6" %}
    <div class="recipe-card" data-category="{{ recipe.category|lower }}">
        {% if recipe.image_url %}
        <img src="{{ recipe.image_url }}" alt="{{ recipe.title }}" class="recipe-image">
        {% else %}
        <img src="https://via.placeholder.com/300x200?text={{ recipe.title }}" alt="{{ recipe.title }}"
            class="recipe-image">
        {% endif %}
        <h3 class="recipe-title">{{ recipe.title }}</h3>
    </div>
    {% endfor %}
</div>

<div class="recipe-count" id="recipeCount">
    Total Recipes: {{ recipes|length }}
</div>
{% endif %}
{% endblock %}